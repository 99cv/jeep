import{r as t,c as i,h as s,H as h,g as e}from"./p-7685acc8.js";import{f as r,h as c}from"./p-872157c0.js";const o=(t,i)=>{let s=parseFloat(i)<=1?parseFloat(i):1,h=t.replace(/#/,""),e={},r=parseInt(h,16);return e.r=r>>16&255,e.g=r>>8&255,e.b=255&r,e.rgb="RGB("+e.r+","+e.g+","+e.b+")",e.rgba="RGBA("+e.r+","+e.g+","+e.b+","+s.toFixed(3)+")",e},a=(t,i)=>{let s=parseFloat(i)<=1?parseFloat(i):1,h={};const e=o(t,s.toString()),r=Math.min(e.r,e.g,e.b),c=Math.max(e.r,e.g,e.b),a=c-r,p=0==c?0:a/c,l=c/255;let n;switch(c){case r:n=0;break;case e.r:n=e.g-e.b+a*(e.g<e.b?6:0),n/=6*a;break;case e.g:n=e.b-e.r+2*a,n/=6*a;break;case e.b:n=e.r-e.g+4*a,n/=6*a}return h.h=parseFloat((360*n).toFixed(3)),h.s=parseFloat((100*p).toFixed(3)),h.b=parseFloat((100*l).toFixed(3)),h.hsb="HSB("+h.h.toFixed(0)+","+h.s.toFixed(0)+"%,"+h.b.toFixed(0)+"%)",h.hsba="HSBA("+h.h.toFixed(0)+","+h.s.toFixed(0)+"%,"+h.b.toFixed(0)+"%,"+s.toFixed(3)+")",h},p=(t,i)=>{let s=parseFloat(i)<=1?parseFloat(i):1;const h=o(t,s.toString());return l(h)},l=t=>{const i=k(t);let s={};const h=t.r/255,e=t.g/255,r=t.b/255,c=Math.min(h,e,r),o=Math.max(h,e,r);let a=(o+c)/2,p=a,l=a;if(o==c)a=p=0;else{const t=o-c;switch(p=l>.5?t/(2-o-c):t/(o+c),o){case h:a=(e-r)/t+(e<r?6:0);break;case e:a=(r-h)/t+2;break;case r:a=(h-e)/t+4}a/=6}return s.h=parseFloat((360*a).toFixed(3)),s.s=parseFloat((100*p).toFixed(3)),s.l=parseFloat((100*l).toFixed(3)),s.hsl="HSL("+s.h.toFixed(0)+","+s.s.toFixed(0)+"%,"+s.l.toFixed(0)+"%)",s.hsla="HSLA("+s.h.toFixed(0)+","+s.s.toFixed(0)+"%,"+s.l.toFixed(0)+"%,"+i.toFixed(3)+")",s},n=t=>{let i={};const s=u(t),h=t.h/360,e=Math.floor(6*h),r=(()=>{const[i,s]=[t.s,t.b].map(t=>Number(t)/100),r=6*h-e,c=s*(1-i),o=s*(1-r*i),a=s*(1-(1-r)*i);return{0:[s,a,c],1:[o,s,c],2:[c,s,a],3:[c,o,s],4:[a,c,s],5:[s,c,o]}})(),[c,o,a]=r[e%6].map(t=>Math.round(255*t));return i.r=c,i.g=o,i.b=a,i.rgb="RGB("+i.r+","+i.g+","+i.b+")",i.rgba="RGBA("+i.r+","+i.g+","+i.b+","+s.toFixed(3)+")",i},d=t=>{let i=t.rgba.split("(")[1].slice(0,-1).split(","),s="#";i.forEach((t,i)=>{if(3===i){let i=Math.round(255*parseFloat(t)).toString(16);i.length<2&&(i=`0${i}`),s+=i}else{let i=parseFloat(t).toString(16);i.length<2&&(i=`0${i}`),s+=i}});let h={};return h.hex=s.slice(0,-2),h.hexa=s,h},f=t=>{let i=n(t);return d(i)},y=t=>{let i={};const s=w(t),h=t.h/360,e=t.s/100,r=t.l/100;if(0===e)i.r=i.g=i.b=r;else{const t=(t,i,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(i-t)*s:s<.5?i:s<2/3?t+(i-t)*(2/3-s)*6:t),s=r<.5?r*(1+e):r+e-r*e,c=2*r-s;i.r=Math.round(255*t(c,s,h+1/3)),i.g=Math.round(255*t(c,s,h)),i.b=Math.round(255*t(c,s,h-1/3))}return i.rgb="RGB("+i.r+","+i.g+","+i.b+")",i.rgba="RGBA("+i.r+","+i.g+","+i.b+","+s.toFixed(3)+")",i},k=t=>parseFloat(t.rgba.split(",")[3].slice(0,-1)),u=t=>parseFloat(t.hsba.split(",")[3].slice(0,-1)),w=t=>parseFloat(t.hsla.split(",")[3].slice(0,-1)),x=t=>{let i={hex:{},rgb:{},hsb:{},hsl:{}};return t.hex&&(i.hex.hex=t.hex,i.hex.hexa=t.hexa,i.opacity=(t=>parseInt(t.hexa.slice(t.hexa.length-2,t.hexa.length),16)/255)(i.hex),i.rgb=o(i.hex.hex,i.opacity.toString()),i.hsb=a(i.hex.hex,i.opacity.toString()),i.hsl=p(i.hex.hex,i.opacity.toString())),t.rgb&&(i.rgb.r=t.r,i.rgb.g=t.g,i.rgb.b=t.b,i.rgb.rgb=t.rgb,i.rgb.rgba=t.rgba,i.opacity=k(i.rgb),i.hex=d(i.rgb),i.hsb=a(i.hex.hex,i.opacity.toString()),i.hsl=l(i.rgb)),t.hsb&&(i.hsb.h=t.h,i.hsb.s=t.s,i.hsb.b=t.b,i.hsb.hsb=t.hsb,i.hsb.hsba=t.hsba,i.opacity=u(i.hsb),i.hex=f(i.hsb),i.rgb=n(i.hsb),i.hsl=l(i.rgb)),t.hsl&&(i.hsl.h=t.h,i.hsl.s=t.s,i.hsl.l=t.l,i.hsl.hsl=t.hsl,i.hsl.hsla=t.hsla,i.opacity=w(i.hsl),i.hex=(t=>{let i=y(t);return d(i)})(i.hsl),i.rgb=y(i.hsl),i.hsb=a(i.hex.hex,i.opacity.toString())),i},g=class{constructor(s){t(this,s),this.color="#ff0000",this.opacity="1.000",this.hidebuttons=!1,this.hideheader=!1,this.hideopacity=!1,this.toggleDisplay=!1,this._stateProperties={init:!1},this._textType=["hex","rgb","hsl","hsb"],this._wrapCss={},this._wrapperSize={width:0,height:0},this._mouseStart=!1,this._resize=!1,this._onElement=null,this.onOpen=i(this,"jeepCpickerOpen",7),this.onClose=i(this,"jeepCpickerClose",7),this.onInstantColor=i(this,"jeepCpickerInstantColor",7)}async parseColorProp(t){this.innerColor=t||"#ff0000",this._stateProperties.hsb=a(this.innerColor,this.innerOpacity?this.innerOpacity.toFixed(3):"1.000"),this._stateProperties.init&&await this._setSelected(this.innerColor,this.innerOpacity?this.innerOpacity:1)}async parseOpacityProp(t){this.innerOpacity=t&&!this.innerHideOpacity?Number(t):1,this._stateProperties.hsb=a(this.innerColor?this.innerColor:"#ff0000",this.innerOpacity.toFixed(3)),this._stateProperties.init&&await this._setSelected(this.innerColor?this.innerColor:"#ff0000",this.innerOpacity)}async parseButtonsProp(t){this.innerButtons=this.innerHideButtons?[]:t?t.substr(1).slice(0,-1).split(","):["Okay","Cancel"],this._stateProperties.init&&await this._setSelected(this.innerColor,this.innerOpacity)}async parseHideButtonsProp(t){this.innerHideButtons=t||!1,this._stateProperties.init&&await this._setSelected(this.innerColor,this.innerOpacity)}async parseHideHeaderProp(t){this.innerHideHeader=t||!1,this._stateProperties.init&&await this._setSelected(this.innerColor,this.innerOpacity)}async parseHideOpacityProp(t){this.innerHideOpacity=t||!1,this._stateProperties.init&&await this._setSelected(this.innerColor,this.innerOpacity)}async handleWindowResize(){await this._windowResize()}async init(){return await this._init()}async getStateProperties(){return this._stateProperties}async getWrapperCssVariables(){return this._wrapCss}async calcH(t,i){return Promise.resolve(this._calcH(t,i))}async calcS(t,i){return Promise.resolve(this._calcS(t,i))}async calcB(t,i){return Promise.resolve(this._calcB(t,i))}async calcO(t,i){return Promise.resolve(this._calcO(t,i))}async componentWillLoad(){await this.init()}async componentDidLoad(){this._wrapperEl=this.el.shadowRoot.querySelector(".cpicker-wrapper"),this._circleEl=this.el.shadowRoot.querySelector("#cpickerHandler"),this._pickEl=this.el.shadowRoot.querySelector("#cpickerGradientB"),this._pickHueEl=this.el.shadowRoot.querySelector("#cpickerSliderHueColor"),this._pickHueSliderHandleEl=this.el.shadowRoot.querySelector("#cpickerColSliderHandler"),this._pickOpaEl=this.el.shadowRoot.querySelector("#cpickerSliderOpacity"),this._pickOpaSliderHandleEl=this.el.shadowRoot.querySelector("#cpickerOpaSliderHandler"),this._okEl=this.el.shadowRoot.querySelector("#cpickerOkay"),this._cancelEl=this.el.shadowRoot.querySelector("#cpickerCancel"),this._headlineEl=this.el.shadowRoot.querySelector("#cpickerSelColor"),await this._setBoundingBoxes(),this.onOpen.emit()}async componentDidUpdate(){this._resize&&(await this._setBoundingBoxes(),this._resize=!1)}async _init(){this.parseColorProp(this.color?this.color:"#ff0000"),this.parseHideOpacityProp(!!this.hideopacity&&this.hideopacity),this.parseOpacityProp(this.opacity?this.opacity:"1"),this.parseHideButtonsProp(!!this.hidebuttons&&this.hidebuttons),this.parseButtonsProp(this.buttons?this.buttons:"[Okay,Cancel]"),this.parseHideHeaderProp(!!this.hideheader&&this.hideheader),this.innerOpacity=this.innerHideOpacity?1:this.innerOpacity,this._bboxes={},this._oriColor=((t,i)=>{let s={};return s.hex=((t,i)=>{let s=parseFloat(i)<=1?parseFloat(i):1,h={};h.hex=t;let e=Math.round(255*s).toString(16);return h.hexa=t+(e=1===e.length?`0${e}`:e),h})(t,i),s.rgb=o(t,i),s.hsb=a(t,i),s.hsl=p(t,i),s.opacity=Number(parseFloat(i).toFixed(3)),s})(this.innerColor?this.innerColor:"#ff0000",this.innerOpacity?this.innerOpacity.toFixed(3):"1"),await this._setCssVariable(),await this._setSelected(this.innerColor?this.innerColor:"#ff0000",this.innerOpacity?this.innerOpacity:1)}async _setCssVariable(){this._wrapCss.backColor=r(this.el,"--cpicker-background-color"),this._wrapCss.backColor=this._wrapCss.backColor?this._wrapCss.backColor:r(this.el,"--cpicker-background-color","#242424"),this._wrapCss.top=r(this.el,"--cpicker-top").replace(/  +/g," "),this._wrapCss.top=this._wrapCss.top?this._wrapCss.top:r(this.el,"--cpicker-top","10vh"),this._wrapCss.left=r(this.el,"--cpicker-left").replace(/  +/g," "),this._wrapCss.left=this._wrapCss.left?this._wrapCss.left:r(this.el,"--cpicker-left","10vw"),this._wrapCss.width=r(this.el,"--cpicker-width").replace(/  +/g," "),this._wrapCss.width=this._wrapCss.width?this._wrapCss.width:r(this.el,"--cpicker-width","70vmin"),this._wrapCss.height=r(this.el,"--cpicker-height").replace(/  +/g," "),this._wrapCss.height=this._wrapCss.height?this._wrapCss.height:r(this.el,"--cpicker-height","50vmin")}async _setSelected(t,i){this._stateProperties.init||(this._stateProperties.init=!0,this._stateProperties.textType="hex",this._stateProperties.hsb=a(t,i.toFixed(3))),this._stateProperties.window={},this._stateProperties.window.width=window.innerWidth,this._stateProperties.window.height=window.innerHeight,this._stateProperties.vmin=Math.min(window.innerWidth,window.innerHeight)/100,this._stateProperties.opacity=i.toFixed(3),this._stateProperties.color=x(this._stateProperties.hsb),this._stateProperties.colorHeadline=this._stateProperties.color[this._stateProperties.textType][this._stateProperties.textType+"a"],this._stateProperties.hue=(()=>{let t=Object.assign({},this._stateProperties.hsb),i=u(t);return t.s=100,t.b=100,t.hsb="HSB("+t.h.toFixed(0)+","+t.s.toFixed(0)+"%,"+t.b.toFixed(0)+"%)",t.hsba="HSBA("+t.h.toFixed(0)+","+t.s.toFixed(0)+"%,"+t.b.toFixed(0)+"%,"+i.toFixed(3)+")",f(t)})().hex,this._stateProperties.colorText=this._setTextColor(this._stateProperties.color.hsb),this._stateProperties.colorHandle=this._setTextColor(a(this._wrapCss.backColor),"back"),this._stateProperties.wrapperTop=await c(this._wrapCss.top,"y"),this._stateProperties.wrapperLeft=await c(this._wrapCss.left,"x"),this._stateProperties.wrapperWidth=await c(this._wrapCss.width,"x"),this._stateProperties.wrapperHeight=await c(this._wrapCss.height,"y"),this._stateProperties.header={},this._stateProperties.colorArea={},this._stateProperties.buttonArea={},this._stateProperties.fill={},this._stateProperties.header.xtext=this.hideopacity?.4*this._stateProperties.wrapperWidth:.345*this._stateProperties.wrapperWidth,this._stateProperties.header.height=this.hideheader?0:.12*this._stateProperties.wrapperHeight,this._stateProperties.header.width=this.hideopacity?.83*this._stateProperties.wrapperWidth:.69*this._stateProperties.wrapperWidth,this._stateProperties.header.width1=this.hideopacity?.17*this._stateProperties.wrapperWidth:.31*this._stateProperties.wrapperWidth,this._stateProperties.colorArea.y=this.hideheader?.03*this._stateProperties.wrapperHeight:.15*this._stateProperties.wrapperHeight,this._stateProperties.colorArea.widthSB=this.hideopacity?.8*this._stateProperties.wrapperWidth:.66*this._stateProperties.wrapperWidth,this._stateProperties.colorArea.widthOpa=this.hideopacity?0:.11*this._stateProperties.wrapperWidth,this._stateProperties.colorArea.widthHue=.11*this._stateProperties.wrapperWidth,this._stateProperties.colorArea.height=this.hideheader||this.hidebuttons?!this.hideheader&&this.hidebuttons?.78*this._stateProperties.wrapperHeight:this.hideheader&&!this.hidebuttons?.78*this._stateProperties.wrapperHeight:.9*this._stateProperties.wrapperHeight:.66*this._stateProperties.wrapperHeight,this._stateProperties.buttonArea.height=this.hidebuttons?0:.11*this._stateProperties.wrapperHeight,this._stateProperties.buttonArea.x=this.hidebuttons?0:1===this.innerButtons[0].length&&1===this.innerButtons[1].length?.39*this._stateProperties.wrapperWidth:.17*this._stateProperties.wrapperWidth,this._stateProperties.buttonArea.width=this.hidebuttons?0:1===this.innerButtons[0].length&&1===this.innerButtons[1].length?.08*this._stateProperties.wrapperWidth:.3*this._stateProperties.wrapperWidth,this._stateProperties.buttonArea.xText1=this.hidebuttons?0:1===this.innerButtons[0].length&&1===this.innerButtons[1].length?.43*this._stateProperties.wrapperWidth:.32*this._stateProperties.wrapperWidth,this._stateProperties.buttonArea.xText2=this.hidebuttons?0:1===this.innerButtons[0].length&&1===this.innerButtons[1].length?.57*this._stateProperties.wrapperWidth:.68*this._stateProperties.wrapperWidth,this._stateProperties.buttonArea.colorText1=this.hidebuttons?this._stateProperties.colorHandle:1===this.innerButtons[0].length&&1===this.innerButtons[1].length?"#00ff00":this._stateProperties.colorHandle,this._stateProperties.buttonArea.colorText2=this.hidebuttons?this._stateProperties.colorHandle:1===this.innerButtons[0].length&&1===this.innerButtons[1].length?"#ff0000":this._stateProperties.colorHandle,this._stateProperties.opaHandlerY=this._stateProperties.colorArea.y+(1-i)*this._stateProperties.colorArea.height-.006*this._stateProperties.wrapperHeight,this._stateProperties.hueHandlerY=this._stateProperties.colorArea.y+this._stateProperties.color.hsb.h/360*this._stateProperties.colorArea.height-.006*this._stateProperties.wrapperHeight,this._stateProperties.pickerHandler={},this._stateProperties.pickerHandler.x=.03*this._stateProperties.wrapperWidth+this._stateProperties.color.hsb.s/100*this._stateProperties.colorArea.widthSB,this._stateProperties.pickerHandler.y=this._stateProperties.colorArea.y+(1-this._stateProperties.color.hsb.b/100)*this._stateProperties.colorArea.height,this._stateProperties.fill.color=`url(${window.location.href}#colorSliderGradient)`,this._stateProperties.fill.brightness=`url(${window.location.href}#cpickerBrightness)`,this._stateProperties.fill.hue=`url(${window.location.href}#cpickerHue)`,this._stateProperties.fill.opacity=`url(${window.location.href}#opacitySliderGradient)`,this._stateProperties.fill.transparency=`url(${window.location.href}#pattern-transparency)`}async _setBoundingBoxes(){this._bboxes.wrapper=this._wrapperEl.getBoundingClientRect(),this._bboxes.headline=this._headlineEl?this._headlineEl.getBoundingClientRect():null,this._bboxes.color=this._pickEl.getBoundingClientRect(),this._bboxes.hue=this._pickHueEl.getBoundingClientRect(),this._bboxes.opacity=this._pickOpaEl?this._pickOpaEl.getBoundingClientRect():null,this._bboxes.ok=this._okEl?this._okEl.getBoundingClientRect():null,this._bboxes.cancel=this._cancelEl?this._cancelEl.getBoundingClientRect():null}async _windowResize(){this._resize=!0,this._onElement=null,await this._setSelected(this._stateProperties.color.hex.hex,Number(this._stateProperties.opacity)),this.toggleDisplay=!this.toggleDisplay}_setTextColor(t,i){let s=i||"col",h=u(t);return"col"==s&&h<.4?"#ffffff":t.h<300&&t.h>195?t.s<60&&t.b>50?"#000000":"#ffffff":t.h<195&&t.h>40?t.b<50?"#ffffff":"#000000":t.b<50?"#ffffff":t.s>60?"#ffffff":"#000000"}async _toggleTextType(){let t=this._textType.indexOf(this._stateProperties.textType);++t>3&&(t=0),this._stateProperties.textType=this._textType[t],this._stateProperties.colorHeadline=this._stateProperties.color[this._stateProperties.textType][this._stateProperties.textType+"a"],this.toggleDisplay=!this.toggleDisplay}_okColorPickerHandler(){this.onClose.emit({color:this._stateProperties.color,button:1})}_cancelColorPickerHandler(){this.onClose.emit({color:this._oriColor,button:2})}async _pickColor(t){if(t.x<=this._bboxes.color.right&&t.x>=this._bboxes.color.left&&t.y<=this._bboxes.color.bottom&&t.y>=this._bboxes.color.top){const i=this._getPickCoordinates(this._bboxes.color,t);return await this._updateStateProperties(this._stateProperties.hsb.h,await this.calcS(i.x,i.width),await this.calcB(i.y,i.height),u(this._stateProperties.hsb))}}async _pickHue(t){if(t.x<=this._bboxes.hue.right&&t.x>=this._bboxes.hue.left&&t.y<=this._bboxes.hue.bottom&&t.y>=this._bboxes.hue.top){const i=this._getPickCoordinates(this._bboxes.hue,t);return await this._updateStateProperties(await this.calcH(i.y,i.height),this._stateProperties.hsb.s,this._stateProperties.hsb.b,u(this._stateProperties.hsb))}}async _pickOpacity(t){if(t.x<=this._bboxes.opacity.right&&t.x>=this._bboxes.opacity.left&&t.y<=this._bboxes.opacity.bottom&&t.y>=this._bboxes.opacity.top){const i=this._getPickCoordinates(this._bboxes.opacity,t);return await this._updateStateProperties(this._stateProperties.hsb.h,this._stateProperties.hsb.s,this._stateProperties.hsb.b,await this.calcO(i.y,i.height))}}_getPickCoordinates(t,i){let s={};return s.x=i.x-t.x,s.y=i.y-t.y,s.width=t.width,s.height=t.height,s}async _updateStateProperties(t,i,s,h){let e={};e.s=Number(i.toFixed(0)),e.b=Number(s.toFixed(0)),e.h=Number(t.toFixed(0)),e.hsb="HSB("+e.h.toFixed(0)+","+e.s.toFixed(0)+"%,"+e.b.toFixed(0)+"%)",e.hsba="HSBA("+e.h.toFixed(0)+","+e.s.toFixed(0)+"%,"+e.b.toFixed(0)+"%,"+h.toFixed(3)+")",this._stateProperties.hsb=e,await this._setSelected(x(e).hex.hex,h),this.toggleDisplay=!this.toggleDisplay}_calcH(t,i){return 360*(t<.01*i?0:t>.99*i?1:t/i)}_calcS(t,i){return t<.01*i?0:t>.99*i?100:t/i*100}_calcB(t,i){return t<.01*i?100:t>.99*i?0:100*(1-t/i)}_calcO(t,i){return t<.01*i?1:t>.99*i?0:1-t/i}async _selectAction(t,i){switch(t){case"cpickerSelColor":case"cpickerText":this._mouseStart||await this._toggleTextType();break;case"cpickerGradientB":await this._pickColor(i),this.onInstantColor.emit(this._stateProperties.color);break;case"cpickerSliderHueColor":case"cpickerColSliderHandler":await this._pickHue(i),this.onInstantColor.emit(this._stateProperties.color);break;case"cpickerSliderOpacity":case"cpickerOpaSliderHandler":await this._pickOpacity(i),this.onInstantColor.emit(this._stateProperties.color);break;case"cpickerOkay":case"cpickerOkayText":this._okColorPickerHandler();break;case"cpickerCancel":case"cpickerCancelText":this._cancelColorPickerHandler()}}_getOnElement(t){const i=this._pickHueSliderHandleEl.getBoundingClientRect(),s=this._pickOpaSliderHandleEl?this._pickOpaSliderHandleEl.getBoundingClientRect():null;return t.x<=this._bboxes.color.right&&t.x>=this._bboxes.color.left&&t.y<=this._bboxes.color.bottom&&t.y>=this._bboxes.color.top?"cpickerGradientB":t.x<=this._bboxes.hue.right&&t.x>=this._bboxes.hue.left&&t.y<=this._bboxes.hue.bottom&&t.y>=this._bboxes.hue.top?"cpickerSliderHueColor":!this.hideopacity&&t.x<=this._bboxes.opacity.right&&t.x>=this._bboxes.opacity.left&&t.y<=this._bboxes.opacity.bottom&&t.y>=this._bboxes.opacity.top?"cpickerSliderOpacity":!this.hidebuttons&&t.x<=this._bboxes.ok.right&&t.x>=this._bboxes.ok.left&&t.y<=this._bboxes.ok.bottom&&t.y>=this._bboxes.ok.top?"cpickerOkay":!this.hidebuttons&&t.x<=this._bboxes.cancel.right&&t.x>=this._bboxes.cancel.left&&t.y<=this._bboxes.cancel.bottom&&t.y>=this._bboxes.cancel.top?"cpickerCancel":!this.hideheader&&t.x<=this._bboxes.headline.right&&t.x>=this._bboxes.headline.left&&t.y<=this._bboxes.headline.bottom&&t.y>=this._bboxes.headline.top?"cpickerSelColor":!this.hideopacity&&t.x<=s.right&&t.x>=s.left&&t.y<=s.bottom&&t.y>=s.top?"cpickerOpaSliderHandler":t.x<=i.right&&t.x>=i.left&&t.y<=i.bottom&&t.y>=i.top?"cpickerColSliderHandler":this.hidebuttons?"cpicker-wrapper":null}_movePoint(t,i){this._timeout&&window.cancelAnimationFrame(this._timeout),this._timeout=window.requestAnimationFrame(async()=>{await this._selectAction(t,i)})}async _handleMouseDown(t){t.preventDefault();const i={x:t.pageX,y:t.pageY};this._onElement=this._getOnElement(i),null!=this._onElement&&(await this._selectAction(this._onElement,i),this._mouseStart=!0)}async _handleMouseMove(t){if(t.preventDefault(),this._mouseStart){const i={x:t.pageX,y:t.pageY};null==this._onElement||"cpickerGradientB"!==this._onElement&&"cpickerSliderHueColor"!==this._onElement&&"cpickerSliderOpacity"!==this._onElement||this._movePoint(this._onElement,i)}}async _handleMouseEnd(t){t.preventDefault(),this._mouseStart&&(this.hidebuttons&&"cpicker-wrapper"===this._onElement&&this._okColorPickerHandler(),this._mouseStart=!1,this._onElement=null)}async _handleTouchStart(t){t.preventDefault();const i={x:t.touches[0].pageX,y:t.touches[0].pageY};this._onElement=this._getOnElement(i),null!=this._onElement&&await this._selectAction(this._onElement,i)}async _handleTouchMove(t){t.preventDefault(),null==this._onElement||"cpickerGradientB"!==this._onElement&&"cpickerSliderHueColor"!==this._onElement&&"cpickerSliderOpacity"!==this._onElement||this._movePoint(this._onElement,{x:t.touches[0].pageX,y:t.touches[0].pageY})}async _handleTouchEnd(t){t.preventDefault(),this.hidebuttons&&"cpicker-wrapper"===this._onElement&&this._okColorPickerHandler(),this._onElement=null}render(){return s(h,null,s("div",{class:"cpicker-container"},s("div",{class:"cpicker-wrapper",style:{top:`${this._stateProperties.wrapperTop}px`,left:`${this._stateProperties.wrapperLeft}px`,width:`${this._stateProperties.wrapperWidth}px`,height:`${this._stateProperties.wrapperHeight}px`},onMouseDown:t=>this._handleMouseDown(t),onMouseMove:t=>this._handleMouseMove(t),onMouseUp:t=>this._handleMouseEnd(t),onTouchStart:t=>this._handleTouchStart(t),onTouchMove:t=>this._handleTouchMove(t),onTouchEnd:t=>this._handleTouchEnd(t)},s("svg",{width:"100%",height:"100%"},s("defs",null,s("pattern",{id:"pattern-transparency",x:"0",y:"0",width:(2.4*this._stateProperties.vmin).toString(),height:(2.4*this._stateProperties.vmin).toString(),patternUnits:"userSpaceOnUse"},s("rect",{class:"pattern-cube",x:"0",width:(1.2*this._stateProperties.vmin).toString(),height:(1.2*this._stateProperties.vmin).toString(),y:"0"}),s("rect",{class:"pattern-cube",x:(1.2*this._stateProperties.vmin).toString(),width:(1.2*this._stateProperties.vmin).toString(),height:(1.2*this._stateProperties.vmin).toString(),y:(1.2*this._stateProperties.vmin).toString()})),s("linearGradient",{id:"cpickerHue"},s("stop",{offset:"0","stop-color":"#ffffff","stop-opacity":"1"}),s("stop",{offset:"1","stop-color":"#ffffff","stop-opacity":"0"})),s("linearGradient",{id:"cpickerBrightness",x2:"0",y2:"1"},s("stop",{offset:"0","stop-color":"#000000","stop-opacity":"0"}),s("stop",{offset:"1","stop-color":"#000000","stop-opacity":"1"})),s("linearGradient",{id:"colorSliderGradient",x2:"0",y2:"1"},s("stop",{offset:"0","stop-color":"hsl(0,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.06","stop-color":"hsl(20,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.11","stop-color":"hsl(40,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.17","stop-color":"hsl(60,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.22","stop-color":"hsl(80,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.28","stop-color":"hsl(100,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.33","stop-color":"hsl(120,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.39","stop-color":"hsl(140,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.44","stop-color":"hsl(160,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.50","stop-color":"hsl(180,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.56","stop-color":"hsl(200,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.61","stop-color":"hsl(220,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.67","stop-color":"hsl(240,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.72","stop-color":"hsl(260,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.78","stop-color":"hsl(280,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.83","stop-color":"hsl(300,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.89","stop-color":"hsl(320,100%,50%","stop-opacity":"1"}),s("stop",{offset:"0.94","stop-color":"hsl(340,100%,50%","stop-opacity":"1"}),s("stop",{offset:"1.00","stop-color":"hsl(360,100%,50%","stop-opacity":"1"})),s("linearGradient",{id:"opacitySliderGradient",x2:"0",y2:"1"},s("stop",{offset:"0","stop-color":this._stateProperties.color.hex.hex,"stop-opacity":"1"}),s("stop",{offset:"1","stop-color":this._stateProperties.color.hex.hex,"stop-opacity":"0"}))),s("rect",{id:"cpickerBackground",width:"100%",height:"100%"}),this.hideheader?null:s("g",{id:"cpickerHeader"},s("rect",{id:"cpickerWhite",x:"0",y:"0",width:this._stateProperties.header.width.toFixed(3),height:this._stateProperties.header.height.toFixed(3)}),s("rect",{id:"cpickerTransparency",x:"0",y:"0",width:this._stateProperties.header.width.toFixed(3),height:this._stateProperties.header.height.toFixed(3),fill:this._stateProperties.fill.transparency}),s("rect",{id:"cpickerSelColor",x:"0",y:"0",width:this._stateProperties.header.width.toFixed(3),height:this._stateProperties.header.height.toFixed(3),fill:this._stateProperties.color.hex.hex,"fill-opacity":this._stateProperties.opacity}),s("rect",{id:"cpickerHueColor",x:this._stateProperties.header.width.toFixed(3),y:"0",width:this._stateProperties.header.width1.toFixed(3),height:this._stateProperties.header.height.toFixed(3),fill:this._stateProperties.hue}),s("text",{id:"cpickerText","text-anchor":"middle",x:this._stateProperties.header.xtext.toFixed(3),y:"8.5%","font-family":"Verdana","font-size":(2.6*this._stateProperties.vmin).toFixed(3),"font-weight":"bold",fill:this._stateProperties.colorText},this._stateProperties.colorHeadline)),s("g",{id:"cpickerSBColor"},s("rect",{id:"cpickerPickColor",x:"3%",y:this._stateProperties.colorArea.y.toFixed(3),width:this._stateProperties.colorArea.widthSB.toFixed(3),height:this._stateProperties.colorArea.height.toFixed(3),fill:this._stateProperties.hue}),s("rect",{id:"cpickerGradientS",x:"3%",y:this._stateProperties.colorArea.y.toFixed(3),width:this._stateProperties.colorArea.widthSB.toFixed(3),height:this._stateProperties.colorArea.height.toFixed(3),rx:"2",ry:"2",fill:this._stateProperties.fill.hue}),s("rect",{id:"cpickerGradientB",x:"3%",y:this._stateProperties.colorArea.y.toFixed(3),width:this._stateProperties.colorArea.widthSB.toFixed(3),height:this._stateProperties.colorArea.height.toFixed(3),rx:"2",ry:"2",fill:this._stateProperties.fill.brightness}),s("circle",{id:"cpickerHandler",r:"1.5%",cx:this._stateProperties.pickerHandler.x.toFixed(3),cy:this._stateProperties.pickerHandler.y.toFixed(3),fill:"none",stroke:this._stateProperties.colorText,"stroke-width":"2"})),this.hideopacity?null:s("g",{id:"cpickerOpacity"},s("rect",{id:"cpickerSliderWhite",x:"72%",y:this._stateProperties.colorArea.y.toFixed(3),width:"11%",height:this._stateProperties.colorArea.height.toFixed(3)}),s("rect",{id:"cpickerTransparencySlider",x:"72%",y:this._stateProperties.colorArea.y.toFixed(3),width:"11%",height:this._stateProperties.colorArea.height.toFixed(3),fill:this._stateProperties.fill.transparency}),s("rect",{id:"cpickerSliderOpacity",x:"72%",y:this._stateProperties.colorArea.y.toFixed(3),width:"11%",height:this._stateProperties.colorArea.height.toFixed(3),fill:this._stateProperties.fill.opacity}),s("rect",{id:"cpickerOpaSliderHandler",x:"71.8%",y:this._stateProperties.opaHandlerY.toFixed(3),width:"11.4%",height:"1.2%",fill:"none",stroke:this._stateProperties.colorHandle,"stroke-width":"2"})),s("g",{id:"cpickerHueColor"},s("rect",{id:"cpickerSliderHueColor",x:"86%",y:this._stateProperties.colorArea.y.toFixed(3),width:"11%",height:this._stateProperties.colorArea.height.toFixed(3),fill:this._stateProperties.fill.color}),s("rect",{id:"cpickerColSliderHandler",x:"85.8%",y:this._stateProperties.hueHandlerY.toFixed(3),width:"11.4%",height:"1.2%",fill:"none",stroke:this._stateProperties.colorHandle,"stroke-width":"2"})),this.hidebuttons?null:s("g",{id:"cpickerFooter"},s("rect",{id:"cpickerOkay",x:this._stateProperties.buttonArea.x.toFixed(3),y:"85%",width:this._stateProperties.buttonArea.width.toFixed(3),height:this._stateProperties.buttonArea.height.toFixed(3),fill:"none",stroke:this._stateProperties.colorHandle,"stroke-width":"2"}),s("rect",{id:"cpickerCancel",x:"53%",y:"85%",width:this._stateProperties.buttonArea.width.toFixed(3),height:this._stateProperties.buttonArea.height.toFixed(3),fill:"none",stroke:this._stateProperties.colorHandle,"stroke-width":"2"}),s("text",{id:"cpickerOkayText","text-anchor":"middle",x:this._stateProperties.buttonArea.xText1.toFixed(3),y:"93%","font-family":"Verdana","font-size":(3.5*this._stateProperties.vmin).toFixed(3),fill:this._stateProperties.buttonArea.colorText1},this.innerButtons[0]),s("text",{id:"cpickerCancelText","text-anchor":"middle",x:this._stateProperties.buttonArea.xText2.toFixed(3),y:"93%","font-family":"Verdana","font-size":(3.5*this._stateProperties.vmin).toFixed(3),fill:this._stateProperties.buttonArea.colorText2},this.innerButtons[1]))))))}get el(){return e(this)}static get watchers(){return{color:["parseColorProp"],opacity:["parseOpacityProp"],buttons:["parseButtonsProp"],hidebuttons:["parseHideButtonsProp"],hideheader:["parseHideHeaderProp"],hideopacity:["parseHideOpacityProp"]}}static get style(){return":host{--cpicker-top:10vh;--cpicker-left:10vw;--cpicker-width:70vmin;--cpicker-height:50vmin;--cpicker-background-color:#242424}.cpicker-container{position:absolute;top:0;bottom:0;right:0;left:0;overflow:hidden}.cpicker-wrapper{margin:0;padding:0;position:relative;z-index:1000}#cpickerBackground{fill:var(--cpicker-background-color)}#cpickerSliderWhite,#cpickerWhite{fill:#ddd;fill-opacity:.4}.pattern-cube{fill:#022460;fill-opacity:.4}"}};export{g as jeep_cpicker};